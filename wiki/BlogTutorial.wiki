#summary simple blog application tutorial


= Prerequisite =

You need to register an [http://openid.net/get/ OpenID] and create an application site on [http://ndjin.net ndjin platform].
Once your application site your have URL to refer to it such as: `http://[your application site name].ndjin.net/ng/`

You can get the source of this tutorial [http://code.google.com/p/ndjin/source/browse/#svn/trunk/js/blog here].

= Authenticate yourself =

You have to authenticate yourself to get the required right to operate on your application site.
Just make a request with your browser to the url `http://[your application site name].ndjin.net/ng/auth` and pass 2 parameters:
  * openID: your OpenID (such as `https://me.yahoo.com/[your login]` for Yahoo or `https://www.google.com/accounts/o8/id/[your google email]` for Google)
  * returnURL: the URL your browser will be redirected after authenticated

For example :
http://yourdomainname.ndjin.net/ng/auth?openID=yourOpenId&returnURL=http://yourhost/currentpage


= Create Your Model =

We create a simple Blog model having Article, Topic and Comment based on this diagram.

[http://ndjin.googlecode.com/svn/trunk/js/blog/admin/blogModel.png]

You can view the full JS script [http://code.google.com/p/ndjin/source/browse/trunk/js/blog/admin/createModel.html here].

We first create the Topic class:

{{{
var dataType = {
	name: 'Topic',
	inheritedDataTypeId: model.getDataTypeIdByName( 'Object' ),
	fields: [
		{ name: 'name', dataTypeId: model.getDataTypeIdByName( 'Text' ), min: 1, max: 1, unique: true, preview: true }
	]
}
model.createOrUpdateDataType( dataType );
}}}


Then the Comment class:

{{{
var dataType = {
	name: 'Comment',
	inheritedDataTypeId: model.getDataTypeIdByName( 'Object' ),
	fields: [
		{ name: 'title', dataTypeId: model.getDataTypeIdByName( 'Text' ), min: 0, max: 1, unique: false, preview: true },
		{ name: 'body', dataTypeId: model.getDataTypeIdByName( 'Text' ), min: 0, max: 1, unique: false, preview: false }
	]
}
model.createOrUpdateDataType( dataType );
}}}

And the Article class:

{{{
var dataType = {
	name: 'Article',
	inheritedDataTypeId: model.getDataTypeIdByName( 'Object' ),
	fields: [
		{ name: 'title', dataTypeId: model.getDataTypeIdByName( 'Text' ), min: 1, max: 1, unique: false, preview: true },
		{ name: 'topic', dataTypeId: model.getDataTypeIdByName( 'Topic' ), relationPath: '/topics', min: 1, max: 1, unique: false, preview: false },
		{ name: 'abstract', dataTypeId: model.getDataTypeIdByName( 'Text' ), min: 0, max: 1, unique: false, preview: false },
		{ name: 'body', dataTypeId: model.getDataTypeIdByName( 'Text' ), min: 0, max: 1, unique: false, preview: false },
		{ name: 'comments', dataTypeId: model.getDataTypeIdByName( 'Comment' ), min: 0, max: 1000, unique: false, preview: false }
	]
}
model.createOrUpdateDataType( dataType );
}}}

As you can see here, we define the relation topic and comments relations just as any primitive field.
